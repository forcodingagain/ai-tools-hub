# AIé›†ç›’ - AIå·¥å…·å¯¼èˆªé—¨æˆ·

> ğŸ¤– æ”¶å½•å…¨çƒä¼˜ç§€ AI å·¥å…·çš„ä¸€ç«™å¼å¯¼èˆªå¹³å°

[![Next.js](https://img.shields.io/badge/Next.js-15.5.5-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-18.3.1-blue?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.9.3-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Ant Design](https://img.shields.io/badge/Ant%20Design-5.27.5-0170FE?logo=antdesign)](https://ant.design/)
[![SQLite](https://img.shields.io/badge/SQLite-better--sqlite3-003B57?logo=sqlite)](https://github.com/JoshuaWise/better-sqlite3)

## âœ¨ ç‰¹æ€§

- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ** - åŸºäº Next.js 15 App Routerï¼ŒReact 18ï¼ŒTypeScript
- ğŸ¨ **ä¼˜é›… UI è®¾è®¡** - ä½¿ç”¨ Ant Design ç»„ä»¶åº“
- ğŸ” **å¼ºå¤§æœç´¢åŠŸèƒ½** - æ”¯æŒå·¥å…·åç§°ã€æè¿°ã€æ ‡ç­¾çš„å®æ—¶æœç´¢
- ğŸ“Š **æµè§ˆé‡ç»Ÿè®¡** - æœ¬åœ°å­˜å‚¨ + æœåŠ¡å™¨åŒæ­¥çš„æµè§ˆé‡è¿½è¸ª
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸ—‚ï¸ **åˆ†ç±»ç®¡ç†** - çµæ´»çš„å·¥å…·åˆ†ç±»ç³»ç»Ÿ
- ğŸ·ï¸ **æ ‡ç­¾ç³»ç»Ÿ** - å¤šå¯¹å¤šæ ‡ç­¾å…³è”ï¼Œæ”¯æŒå·¥å…·çš„çµæ´»æ ‡è®°
- ğŸ’¾ **SQLite æ•°æ®åº“** - é«˜æ€§èƒ½æœ¬åœ°æ•°æ®åº“ï¼Œæ”¯æŒ WAL æ¨¡å¼
- ğŸ› ï¸ **å³é”®èœå•** - æ”¯æŒå·¥å…·çš„å¿«é€Ÿç¼–è¾‘å’Œåˆ é™¤
- ğŸ¯ **SEO ä¼˜åŒ–** - å®Œå–„çš„å…ƒæ•°æ®å’Œè¯­ä¹‰åŒ– HTML

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (http://localhost:3000)
npm run dev

# å¯ç”¨ Turbo æ¨¡å¼å¼€å‘ (æ›´å¿«)
npm run dev:turbo

# è°ƒè¯•æ¨¡å¼
npm run dev:debug
```

### ç”Ÿäº§ç¯å¢ƒ

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨ (Standalone æ¨¡å¼)
npm start

# æ ‡å‡†æ¨¡å¼å¯åŠ¨ (éœ€è¦ç§»é™¤ standalone é…ç½®)
npm run start:standard
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai_tools_nextjs/
â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”œâ”€â”€ api/                 # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ settings/        # ç«™ç‚¹é…ç½® API
â”‚   â”‚   â”œâ”€â”€ tools/          # å·¥å…·ç®¡ç† API
â”‚   â”‚   â””â”€â”€ search/         # æœç´¢ API
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Common/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Content/        # å†…å®¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header/         # å¤´éƒ¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ context/           # React Context
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx           # é¦–é¡µ
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â””â”€â”€ db.js             # æ•°æ®åº“è¿æ¥
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”‚   â””â”€â”€ data/            # æ•°æ®æ–‡ä»¶ (è¿ç§»ä¸­)
â”œâ”€â”€ scripts/             # æ•°æ®åº“è¿ç§»è„šæœ¬
â”œâ”€â”€ docs/               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ai_tools.db        # SQLite æ•°æ®åº“
â””â”€â”€ CLAUDE.md          # Claude Code å·¥ä½œæŒ‡å¯¼
```

## ğŸ’¾ æ•°æ®åº“ç³»ç»Ÿ

### æ•°æ®åº“æ¶æ„

é¡¹ç›®ä½¿ç”¨ SQLite ä½œä¸ºä¸»è¦æ•°æ®å­˜å‚¨ï¼Œé‡‡ç”¨é«˜æ€§èƒ½è®¾è®¡ï¼š

**æ ¸å¿ƒæ•°æ®è¡¨ï¼ˆ8ä¸ªï¼‰ï¼š**
- **`site_config`** - ç«™ç‚¹é…ç½®ï¼ˆå•ä¾‹æ¨¡å¼ï¼Œid=1ï¼‰
- **`site_keywords`** - SEO å…³é”®è¯ç®¡ç†
- **`categories`** - å·¥å…·åˆ†ç±»ï¼ˆæ”¯æŒè½¯åˆ é™¤ï¼‰
- **`tools`** - AI å·¥å…·ä¿¡æ¯ï¼ˆæ ¸å¿ƒè¡¨ï¼Œæ”¯æŒæµè§ˆé‡ç»Ÿè®¡ï¼‰
- **`tags`** - å”¯ä¸€æ ‡ç­¾è¡¨
- **`tool_tags`** - å·¥å…·æ ‡ç­¾å¤šå¯¹å¤šå…³è”è¡¨
- **`migration_log`** - æ•°æ®è¿ç§»å†å²è®°å½•
- **`db_version`** - æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†

**ä¼˜åŒ–è§†å›¾ï¼ˆ2ä¸ªï¼‰ï¼š**
- **`v_active_tools`** - æ´»è·ƒå·¥å…·è§†å›¾ï¼ˆåŒ…å«åˆ†ç±»åç§°å’Œæ ‡ç­¾èšåˆï¼‰
- **`v_category_stats`** - åˆ†ç±»ç»Ÿè®¡è§†å›¾ï¼ˆå·¥å…·æ•°é‡å’Œæ€»æµè§ˆé‡ï¼‰

**æ€§èƒ½ç´¢å¼•ï¼ˆ14ä¸ªï¼‰ï¼š**
- åˆ†ç±»æ˜¾ç¤ºæ’åºç´¢å¼•ï¼ˆ`idx_category_display_order`ï¼‰
- å·¥å…·åˆ†ç±»+æµè§ˆé‡å¤åˆç´¢å¼•ï¼ˆ`idx_tool_category_viewcount`ï¼‰
- ç‰¹è‰²å·¥å…·æµè§ˆé‡ç´¢å¼•ï¼ˆ`idx_tool_featured_viewcount`ï¼‰
- æœ€æ–°å·¥å…·æ—¥æœŸç´¢å¼•ï¼ˆ`idx_tool_new_date`ï¼‰
- åç§°æœç´¢ç´¢å¼•ï¼ˆ`idx_tool_name`ï¼‰
- legacy_id å¿«é€ŸæŸ¥æ‰¾ç´¢å¼•ç­‰

**è‡ªåŠ¨åŒ–è§¦å‘å™¨ï¼ˆ5ä¸ªï¼‰ï¼š**
- è‡ªåŠ¨æ›´æ–°æ—¶é—´æˆ³è§¦å‘å™¨
- è½¯åˆ é™¤åŒæ­¥è§¦å‘å™¨

### å®Œæ•´å»ºè¡¨è„šæœ¬

æ‰€æœ‰æ•°æ®åº“ç»“æ„å·²æ•´åˆåˆ° [`scripts/create.sql`](scripts/create.sql) æ–‡ä»¶ä¸­ï¼š

```bash
# åˆ›å»ºå…¨æ–°æ•°æ®åº“
sqlite3 ai_tools.db < scripts/create.sql

# æ£€æŸ¥æ•°æ®åº“å®Œæ•´æ€§
sqlite3 ai_tools.db "PRAGMA integrity_check"

# æŸ¥çœ‹æ‰€æœ‰è¡¨ç»“æ„
sqlite3 ai_tools.db ".schema"
```

**å»ºè¡¨è„šæœ¬ç‰¹æ€§ï¼š**
- âœ… å¤–é”®çº¦æŸè‡ªåŠ¨å¯ç”¨
- âœ… WAL æ¨¡å¼æå‡å¹¶å‘æ€§èƒ½
- âœ… 14ä¸ªæ€§èƒ½ä¼˜åŒ–ç´¢å¼•
- âœ… 2ä¸ªå®ç”¨è§†å›¾
- âœ… 5ä¸ªè‡ªåŠ¨åŒ–è§¦å‘å™¨
- âœ… è½¯åˆ é™¤æœºåˆ¶
- âœ… æ•°æ®å®Œæ•´æ€§çº¦æŸ
- âœ… FTS5 å…¨æ–‡æœç´¢æ”¯æŒï¼ˆå¯é€‰ï¼‰

### æ•°æ®åº“æ“ä½œ

```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
npm run db:check

# ä¼˜åŒ–æ•°æ®åº“
npm run db:optimize

# ç›´æ¥æŸ¥è¯¢æ•°æ®åº“
sqlite3 ai_tools.db "SELECT COUNT(*) FROM tools WHERE is_deleted = 0"

# æŸ¥çœ‹æ´»è·ƒå·¥å…·ç»Ÿè®¡
sqlite3 ai_tools.db "SELECT COUNT(*) FROM v_active_tools"

# æŸ¥çœ‹åˆ†ç±»ç»Ÿè®¡
sqlite3 ai_tools.db "SELECT name, tool_count FROM v_category_stats"
```

### æ•°æ®åº“æ€§èƒ½ç‰¹æ€§

- **WAL æ¨¡å¼** - æ”¯æŒå¹¶å‘è¯»å–ï¼Œæå‡æ€§èƒ½
- **è½¯åˆ é™¤æœºåˆ¶** - æ•°æ®å®‰å…¨åˆ é™¤ï¼Œå¯æ¢å¤
- **åŸå­æ“ä½œ** - æµè§ˆé‡æ›´æ–°æ— ç«æ€æ¡ä»¶
- **å¤–é”®çº¦æŸ** - æ•°æ®å®Œæ•´æ€§ä¿è¯
- **éƒ¨åˆ†ç´¢å¼•** - é’ˆå¯¹æ´»è·ƒæ•°æ®ä¼˜åŒ–
- **å¤åˆç´¢å¼•** - å¤šå­—æ®µæŸ¥è¯¢ä¼˜åŒ–

## ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ

é¡¹ç›®æ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢ï¼š

- ä½¿ç”¨ CSS è‡ªå®šä¹‰å±æ€§ (`--bg-primary`, `--text-primary`)
- `ThemeContext` ç®¡ç†ä¸»é¢˜çŠ¶æ€
- Ant Design ç»„ä»¶é€šè¿‡ `ConfigProvider` é€‚é…ä¸»é¢˜
- ä¸»é¢˜çŠ¶æ€æŒä¹…åŒ–åˆ° localStorage

## ğŸ” æœç´¢åŠŸèƒ½

é›†æˆäº†å¼ºå¤§çš„æœç´¢ç³»ç»Ÿï¼š

- **å®æ—¶æœç´¢** - è¾“å…¥å³æœç´¢ï¼Œæ— éœ€å›è½¦
- **å¤šå­—æ®µæœç´¢** - æ”¯æŒåç§°ã€æè¿°ã€æ ‡ç­¾æœç´¢
- **é«˜äº®æ˜¾ç¤º** - æœç´¢ç»“æœå…³é”®è¯é«˜äº®
- **æœç´¢å»ºè®®** - æ™ºèƒ½æœç´¢å»ºè®®
- **åˆ†ç±»ç­›é€‰** - æŒ‰åˆ†ç±»å¿«é€Ÿç­›é€‰

## ğŸ“Š æµè§ˆé‡ç³»ç»Ÿ

åŒé‡æµè§ˆé‡ç»Ÿè®¡æœºåˆ¶ï¼š

1. **å®¢æˆ·ç«¯å­˜å‚¨** - localStorage å®æ—¶æ›´æ–°
2. **æœåŠ¡å™¨åŒæ­¥** - æ‰‹åŠ¨åŒæ­¥åˆ°æ•°æ®åº“

```javascript
// æ›´æ–°æµè§ˆé‡
incrementViewCount(toolId) // æœ¬åœ°æ›´æ–°

// åŒæ­¥åˆ°æœåŠ¡å™¨
syncViewCountToServer()   // æ‰¹é‡åŒæ­¥
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å·¥å…·

1. åœ¨å·¥å…·å¡ç‰‡ä¸Šå³é”®
2. é€‰æ‹©"ç¼–è¾‘å·¥å…·"
3. å¡«å†™å·¥å…·ä¿¡æ¯
4. ä¿å­˜å³å¯

### æ·»åŠ æ–°åˆ†ç±»

é€šè¿‡æ•°æ®åº“ç›´æ¥æ“ä½œæˆ–ç­‰å¾…åå°ç®¡ç†åŠŸèƒ½ã€‚

### è‡ªå®šä¹‰æ ·å¼

å…¨å±€æ ·å¼å˜é‡å®šä¹‰åœ¨ `globals.css` ä¸­ï¼š

```css
:root {
  --bg-primary: #ffffff;
  --text-primary: #000000;
  --accent-color: #1890ff;
}

[data-theme='dark'] {
  --bg-primary: #141414;
  --text-primary: #ffffff;
  --accent-color: #177ddc;
}
```

### API å¼€å‘

æ‰€æœ‰ API è·¯ç”±ä½äº `app/api/` ç›®å½•ï¼š

- **GET** `/api/settings` - è·å–ç«™ç‚¹é…ç½®
- **GET** `/api/tools` - è·å–å·¥å…·åˆ—è¡¨
- **PUT** `/api/tools/[toolId]` - æ›´æ–°å·¥å…·
- **DELETE** `/api/tools/[toolId]` - åˆ é™¤å·¥å…·
- **POST** `/api/tools/sync-viewcount` - åŒæ­¥æµè§ˆé‡

## ğŸ“¦ æ„å»ºéƒ¨ç½²

### Standalone æ¨¡å¼

é¡¹ç›®é…ç½®äº† `output: 'standalone'`ï¼Œç”Ÿæˆç‹¬ç«‹çš„ Node.js åº”ç”¨ï¼š

```bash
npm run build
# ç”Ÿæˆ .next/standalone/server.js
npm start  # è¿è¡Œç‹¬ç«‹æœåŠ¡å™¨
```

### Docker éƒ¨ç½²

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

## ğŸ”§ é…ç½®è¯´æ˜

### Next.js é…ç½®

- **Standalone æ¨¡å¼** - ä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- **å›¾ç‰‡ä¼˜åŒ–** - æ”¯æŒ AVIF/WebP æ ¼å¼
- **å®éªŒæ€§åŠŸèƒ½** - å¯ç”¨å¤šé¡¹æ€§èƒ½ä¼˜åŒ–
- **å®‰å…¨å¤´** - é…ç½®äº†å®Œå–„çš„å®‰å…¨ HTTP å¤´

### ç¯å¢ƒå˜é‡

å½“å‰é¡¹ç›®æ— éœ€é¢å¤–ç¯å¢ƒå˜é‡ï¼Œæ‰€æœ‰é…ç½®éƒ½å†…ç½®åœ¨ä»£ç ä¸­ã€‚

## ğŸš¨ æ³¨æ„äº‹é¡¹

### æ•°æ®åº“è¿ç§»

é¡¹ç›®æ­£åœ¨ä» JSON æ–‡ä»¶è¿ç§»åˆ° SQLiteï¼š

- **å½“å‰çŠ¶æ€** - ä½¿ç”¨ JSON + localStorage
- **ç›®æ ‡çŠ¶æ€** - å®Œå…¨åŸºäº SQLite
- **è¿ç§»è„šæœ¬** - ä½äº `scripts/` ç›®å½•

### æ€§èƒ½ä¼˜åŒ–

- **ç´¢å¼•ä¼˜åŒ–** - æ•°æ®åº“åŒ…å« 14 ä¸ªä¼˜åŒ–ç´¢å¼•
- **WAL æ¨¡å¼** - æ”¯æŒå¹¶å‘è¯»å–
- **è½¯åˆ é™¤** - æ•°æ®å®‰å…¨åˆ é™¤æœºåˆ¶
- **åŸå­æ“ä½œ** - æµè§ˆé‡æ›´æ–°æ— ç«æ€æ¡ä»¶

### å·²çŸ¥é™åˆ¶

1. **SQLite å•å†™å…¥è€…** - é«˜å¹¶å‘å†™å…¥å¯èƒ½å—é™
2. **æµè§ˆé‡åŒæ­¥** - å½“å‰ä¸ºæ‰‹åŠ¨åŒæ­¥
3. **React ç±»å‹** - å·²é™çº§åˆ° 18.x é¿å…ç‰ˆæœ¬å†²çª

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ•°æ®åº“è¿ç§»æ–¹æ¡ˆ](docs/database-migration-plan.md)
- [ä¼˜åŒ–è®°å½•](docs/optimization-summary.md)
- [å¼€å‘æŒ‡å—](CLAUDE.md)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ ISC è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [Ant Design](https://ant.design/) - UI ç»„ä»¶åº“
- [better-sqlite3](https://github.com/JoshuaWise/better-sqlite3) - SQLite åº“
- [ahooks](https://ahooks.js.org/) - React Hooks å·¥å…·åº“

---

<p align="center">
  Made with â¤ï¸ by AIé›†ç›’å›¢é˜Ÿ
</p>
